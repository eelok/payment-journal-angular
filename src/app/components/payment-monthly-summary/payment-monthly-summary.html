<h3>Payment:</h3>
<form [formGroup]="paymentForm" (ngSubmit)="addPayment()">
    <label for="paymentAmount">
        Payment Amount:
        <input 
            id="paymentAmount" 
            type="number" 
            name="paymentAmount"
            formControlName="paymentAmount"
        />
    </label> 
    <div *ngIf="getPaymentAmountError()" class="error">
        {{getPaymentAmountError()}}
    </div>
    <label for="paymentType">
        Payment Type:
        <select
            id="paymentType"
            name="paymentType"   
            formControlName="paymentType" 
        >
            <option value="">Select Payment Type</option>
            <option
                *ngFor="let paymentType of availabelPaymentType"
                [value]="paymentType"
            >
            {{paymentType}}
            </option>
        </select>

        <div *ngIf="getPaymentTypeError()" class="error">
            {{getPaymentTypeError()}}
        </div>
    </label>
     <button type="submit">Add</button>   
</form>


<h3>Monthly Summary: </h3>
<div *ngIf="errorMessage"
     style="color: red; padding: 10px; border: 1px solid red;">
    <p>Error: {{errorMessage}}</p>
</div>

<div *ngIf="isLoading">
  <p>Loading data...</p>
</div>

<table>
    <thead>
        <tr>
            <th  *ngFor="let column of tableColumns">{{column.label}}</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let summary of monthlySummaries">
            <td>{{summary.yearMonth}}</td>
            <td>
                <div *ngFor="let payment of summary.allPaymentsInMonth">
                        {{payment.amount}}
                </div>
            </td>
            <td>
                {{summary.paymentCount}}
            </td>
            <td>
                {{summary.totalAmount}}
            </td>
            <td>
                {{summary.status}} 
                <div *ngIf="summary.overpay">
                    overpay: {{summary.overpay}}
                </div>
                <div *ngIf="summary.dept">
                   dept: {{summary.dept}}
                </div>
            </td>
        </tr>
    </tbody>

</table>
